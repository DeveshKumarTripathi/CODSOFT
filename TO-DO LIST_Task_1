import tkinter as tk
from tkinter import messagebox, simpledialog
from datetime import datetime, timedelta
import os

TASKS_FILE = "tasks.txt"
DATE_FORMAT = "%Y-%m-%d %H:%M"

def load_tasks():
    if not os.path.exists(TASKS_FILE):
        return []
    with open(TASKS_FILE, "r") as file:
        lines = file.readlines()
        tasks = []
        for line in lines:
            try:
                text, due, done = line.strip().split("||")
                tasks.append({"task": text, "due": due, "done": done == "1"})
            except:
                continue
        return tasks
